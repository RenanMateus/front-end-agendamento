<div class="panel-header">
</div>

<div class="meuCard">
  <div class="row">
    <div class="col-lg-12 margemCabecalho">
      <h3 class="card-title" *ngIf="!idCliente">Cadastrar Cliente</h3>
      <h3 class="card-title" *ngIf="idCliente">Editar Cliente</h3>
    </div>

    <div class="col-lg-12 spinnerCarregando" *ngIf="salvando || carregando">
      <div class="spinner-border"></div>
      <br>
      <span *ngIf="salvando">Salvando</span>
      <span *ngIf="carregando">Carregando Dados</span>
    </div>

    <div class="col-lg-12" [hidden]="salvando || carregando">
      <form #clienteForm="ngForm" autocomplete="off">
        <div class="row">
          <div class="col-lg-4 col-md-4 col-sm-6 margemLabel">
            <h5><b>Nome*</b></h5>
            <input class="form-control" name="nome" placeholder="Nome" [(ngModel)]="cliente.nome" #nome="ngModel"
              autocomplete="none" minlength="5" maxlength="100" required>
            <div class="myAlert" *ngIf="nome.invalid && nome.touched">
              Informe o Nome
            </div>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>CPF / CNPJ*</b></h5>
            <input class="form-control" name="cpfCnpj" placeholder="CPF / CNPJ" [(ngModel)]="cliente.cpfCnpj"
              autocomplete="none" #cpfCnpj="ngModel" (ngModelChange)="validarCampo(cliente.cpfCnpj)" maxlength="18"
              required>

            <div class="myAlert" *ngIf="cpfCnpj.invalid && cpfCnpj.touched">
              Informe o CPF ou CNPJ
            </div>
            <div class="myAlert" *ngIf="(!cpfCnpj.invalid && cpfCnpj.touched) && !cpfValido">
              Informe um CPF ou CNPJ válido
            </div>
          </div>
          <div class="col-lg-5 col-md-4 col-sm-6 margemLabel">
            <h5><b>Razão Social*</b></h5>
            <input class="form-control" name="razaoSocial" placeholder="Razão Social" [(ngModel)]="cliente.razaoSocial"
              autocomplete="none" #razaoSocial="ngModel" minlength="10" maxlength="150" required>
            <div class="myAlert" *ngIf="razaoSocial.invalid && razaoSocial.touched">
              Informe a Razão Social
            </div>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Inscrição Estadual</b></h5>
            <input class="form-control" name="inscricaoEstadual" placeholder="Inscrição Estadual"
              [(ngModel)]="cliente.inscricaoEstadual" autocomplete="none" maxlength="20">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Segmento</b></h5>
            <input class="form-control" name="segmento" placeholder="Segmento" [(ngModel)]="cliente.segmento"
              autocomplete="none" maxlength="30">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Telefone*</b></h5>
            <input class="form-control" name="telefone" placeholder="Telefone" [(ngModel)]="cliente.telefone1"
              autocomplete="none" [imask]="{mask: '(00)00000-0000'}" #telefone="ngModel" required>
            <div class="myAlert" *ngIf="telefone.invalid && telefone.touched">
              Informe o Telefone
            </div>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Telefone 2</b></h5>
            <input class="form-control" name="telefone2" placeholder="Telefone 2" [(ngModel)]="cliente.telefone2"
              autocomplete="none" [imask]="{mask: '(00)00000-0000'}">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Responsável*</b></h5>
            <input class="form-control" name="responsavel" placeholder="Responsável" [(ngModel)]="cliente.responsavel"
              autocomplete="none" #responsavel="ngModel" minlength="5" maxlength="50" required>
            <div class="myAlert" *ngIf="responsavel.invalid && responsavel.touched">
              Informe o Responsável
            </div>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Email</b></h5>
            <input class="form-control" name="email" placeholder="Email" [(ngModel)]="cliente.email" maxlength="100"
              autocomplete="none" email>
          </div>

          <div class="col-lg-12">
            <h4>Endereço</h4>
            <hr class="meuHr">
          </div>

          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>CEP</b></h5>
            <input class="form-control" name="cep" placeholder="CEP" [imask]="{mask: '00000-000'}"
              (change)="buscarCep(cep.value)" #cep="ngModel" [(ngModel)]="cliente.cep" autocomplete="none">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Logradouro</b></h5>
            <input class="form-control" name="logradouro" placeholder="Logradouro" [(ngModel)]="cliente.logradouro"
              autocomplete="none">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Número</b></h5>
            <input class="form-control" name="numero" placeholder="Número" [(ngModel)]="cliente.numero"
              autocomplete="none">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Bairro</b></h5>
            <input class="form-control" name="bairro" placeholder="Bairro" [(ngModel)]="cliente.bairro"
              autocomplete="none">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Cidade</b></h5>
            <input class="form-control" name="cidade" placeholder="Cidade" [(ngModel)]="cliente.cidade"
              autocomplete="none">
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Estado</b></h5>
            <select class="form-control" name="estado" [(ngModel)]="cliente.uf">
              <option value="" selected disabled>Estado</option>
              <option value="AC">Acre</option>
              <option value="AL">Alagoas</option>
              <option value="AP">Amapá</option>
              <option value="AM">Amazonas</option>
              <option value="BA">Bahia</option>
              <option value="CE">Ceará</option>
              <option value="DF">Distrito Federal</option>
              <option value="ES">Espírito Santo</option>
              <option value="GO">Goiás</option>
              <option value="MA">Maranhão</option>
              <option value="MT">Mato Grosso</option>
              <option value="MS">Mato Grosso do Sul</option>
              <option value="MG">Minas Gerais</option>
              <option value="PA">Pará</option>
              <option value="PB">Paraíba</option>
              <option value="PR">Paraná</option>
              <option value="PE">Pernambuco</option>
              <option value="PI">Piauí</option>
              <option value="RJ">Rio de Janeiro</option>
              <option value="RN">Rio Grande do Norte</option>
              <option value="RS">Rio Grande do Sul</option>
              <option value="RO">Rondônia</option>
              <option value="RR">Roraima</option>
              <option value="SC">Santa Catarina</option>
              <option value="SP">São Paulo</option>
              <option value="SE">Sergipe</option>
              <option value="TO">Tocantins</option>
            </select>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 margemLabel">
            <h5><b>Complemento</b></h5>
            <input class="form-control" name="complemento" placeholder="Complemento" [(ngModel)]="cliente.complemento"
              autocomplete="none">
          </div>
        </div>
        <div class="text-right margemLabel">
          <button class="btn btn-success" type="submit" [disabled]="clienteForm.invalid"
            (click)="salvarCliente()">Salvar</button>
          <button class="btn btn-warning" type="button" style="margin-left: 10px" (click)="voltar()">Voltar</button>
        </div>
      </form>
    </div>

  </div>
</div>
